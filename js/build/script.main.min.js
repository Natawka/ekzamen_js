!function(a){a.fn.mycarousel=function(){var b=function(a){if(a.previousElementSibling)return a.previousElementSibling;for(;a=a.previousSibling;)if(1===a.nodeType)return a},c=function(a){if(a.nextElementSibling)return a.nextElementSibling;for(;a=a.nextSibling;)if(1===a.nodeType)return a};return a(".left-arrow").bind("click",function(c){c=c||event,c.preventDefault?c.preventDefault():c.returnValue=!1;var d=parseInt(a(".carousel-elem").css("width")),e=b(this.parentNode),f=parseInt(a(this).parent().prev().find(".carousel").css("left")),g=a(this).parent().prev().find(".active"),h=a(this).parent().prev().find(".active").prev();b(e.querySelector(".active"))?(f+=d,a(this).parent().prev().find(".carousel").animate({left:f+"px"},300),g.removeClass("active"),h.addClass("active")):(f=-(2*d),a(this).parent().prev().find(".carousel").animate({left:f+"px"},300),g.removeClass("active"),a(this).parent().prev().find(".carousel-elem:last").addClass("active"))}),a(".right-arrow").bind("click",function(d){d=d||event,d.preventDefault?d.preventDefault():d.returnValue=!1;var e=parseInt(a(".carousel-elem").css("width")),f=b(this.parentNode),g=parseInt(a(this).parent().prev().find(".carousel").css("left")),h=a(this).parent().prev().find(".active"),i=a(this).parent().prev().find(".active").next();c(f.querySelector(".active"))?(g-=e,a(this).parent().prev().find(".carousel").animate({left:g+"px"},300),h.removeClass("active"),i.addClass("active")):(g=0,a(this).parent().prev().find(".carousel").animate({left:g+"px"},300),h.removeClass("active"),a(this).parent().prev().find(".carousel-elem:first").addClass("active"))}),a(window).resize(function(){a(".carousel").css("left",0),a(".carousel").each(function(){a(this).find(".carousel-elem:first").addClass("active")})}),this}}(jQuery),$(function(){$(".grid").masonry({columnWidth:".grid-sizer",itemSelector:".grid-item",gutter:".gutter-sizer",percentPosition:!0})}),$(function(){function a(a){var b=$(".grid-item img"),c=$(".grid-item h2");$(".grid-item h2").animate({opacity:0,left:"10%"},400),$(".grid-item img").fadeOut(600),setTimeout(function(){for(var d=0;d<b.length;d++)b[d].setAttribute("src",a.hits[d].webformatURL),c[d].innerHTML=a.hits[d].tags},600),setTimeout(function(){$(".grid-item img").fadeIn(400),$(".grid-item h2").animate({opacity:1,left:"50%"},600)},1e3)}function b(a,b){if("XDomainRequest"in window&&null!==window.XDomainRequest){var c=new XDomainRequest;c.open("get",a),c.onload=function(){var a=new ActiveXObject("Microsoft.XMLDOM"),d=$.parseJSON(c.responseText);a.async=!1,null!=d&&"undefined"!=typeof d||(d=$.parseJSON(data.firstChild.textContent)),b(d)},c.onerror=function(){_result=!1},c.send()}else $.ajax({url:a,dataType:"json",async:!1,success:function(a){b(a)}})}function c(){var a=document.all&&document.querySelector&&!document.addEventListener?"http":"https";b(a+"://pixabay.com/api/?key=2593977-12988caf15107fb1014806b9d&image_type=photo",function(a){for(var b=$(".grid-item img"),c=$(".grid-item h2"),d=0;d<b.length;d++)b[d].setAttribute("src",a.hits[d].webformatURL),c[d].innerHTML=a.hits[d].tags})}function d(){var c=$("#query").val(),d=document.all&&document.querySelector&&!document.addEventListener?"http":"https";b(d+"://pixabay.com/api/?key=2593977-12988caf15107fb1014806b9d&q="+c+"&image_type=photo",a)}$("#go").on("click",d),$("#query").keydown(function(a){return 13==a.keyCode?(d(),!1):void 0}),c()}),$(function(){$(".slide").mycarousel()});